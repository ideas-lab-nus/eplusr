<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Retreive Simulation Outputs Using EnergyPlus SQLite Output File — EplusSql • eplusr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Retreive Simulation Outputs Using EnergyPlus SQLite Output File — EplusSql" />

<meta property="og:description" content="EplusSql class wraps SQL queries that can retreive simulation outputs using
EnergyPlus SQLite output file." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eplusr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.9.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/eplusr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hongyuanjia/eplusr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Retreive Simulation Outputs Using EnergyPlus SQLite Output File</h1>
    <small class="dont-index">Source: <a href='https://github.com/hongyuanjia/eplusr/blob/master/R/sql.R'><code>R/sql.R</code></a></small>
    <div class="hidden name"><code>EplusSql.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p><code>EplusSql</code> class wraps SQL queries that can retreive simulation outputs using
EnergyPlus SQLite output file.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>SQLite output is an optional output format for EnergyPlus. It will be
created if there is an object in class <code>Output:SQLite</code>. If the value of
field <code>Option</code> in class <code>Output:SQLite</code> is set to <code>"SimpleAndTabular"</code>,
then database tables related to the tabular reports will be included.</p>
<p>There are more than 30 tables in the SQLite output file which contains all of
the data found in EnergyPlus's tabular output files, standard variable
and meter output files, plus a number of reports that are found in the
eplusout.eio output file. The full description for SQLite outputs is
described in the EnergyPlus <em>"Output Details and Examples"</em>
documentation.</p>
<p><code>EplusSql</code> class makes it possible to directly retreive simulation results
without creating an <a href='EplusJob.html'>EplusJob</a> object which can only get simulation
outputs after the job was successfully run before.</p>
<p>However, it should be noted that, unlike <a href='EplusJob.html'>EplusJob</a>, there is no checking on
whether the simulation is terminated or completed unsuccessfully or, the
parent Idf has been changed since last simulation. This means that you
may encounter some problems when retreive data from an unsuccessful
simulation. It is suggested to carefully go through the <code>.err</code> file to
make sure the output data in the SQLite is correct and reliable.</p>
    
    <h2 class="hasAnchor" id="usage"><a class="anchor" href="#usage"></a>Usage</h2>

    <pre>epsql &lt;- eplus_sql(sql)
epsql$path()
epsql$list_table()
epsql$read_table(table)
epsql$report_data(key_value = NULL, name = NULL, year = NULL, tz = "GMT", case = "auto", all = FALSE)
epsql$report_data_dict()
epsql$tabular_data()
epsql$print()
print(epsql)
</pre>
    <p><code>$path()</code> returns the path of EnergyPlus SQLite file.</p>
<p><code>$report_data_dict()</code> returns a data.table which contains all information about
report data. For details on the meaning of each columns, please see
"2.20.2.1 ReportDataDictionary Table" in EnergyPlus "Output Details and
Examples" documentation.</p>
<p><code>$report_data()</code> extracts the report data in a data.table using key values
and variable names.</p>
<p><code>$tabular_data()</code> extracts all tabular data in a data.table.</p>
<p><code>$print()</code> shows the core information of this EplusSql object, including the
path of the EnergyPlus SQLite file, last modified time of the SQLite file
and the path of the IDF file with the same name in the same folder.</p>
<p><strong>Arguments</strong>:</p><ul>
<li><p><code>epsql</code>: An <code>EplusSQL</code> object.</p></li>
<li><p><code>sql</code>: A path to an local EnergyPlus SQLite output file.</p></li>
<li><p><code>key_value</code>: A character vector to identify key name of the data. If
<code>NULL</code>, all keys of that variable will be returned. Default: <code>NULL</code>.</p></li>
<li><p><code>name</code>: A character vector to specify the actual data name. If <code>NULL</code>, all
variables will be returned. Default: <code>NULL</code>.</p></li>
<li><p><code>year</code>: The year of the date and time in column <code>DateTime</code>. If <code>NULL</code>, it
will be the current year. Default: <code>NULL</code></p></li>
<li><p><code>tz</code>: Time zone of date and time in column <code>DateTime</code>. Default: <code>"GMT"</code>.</p></li>
<li><p><code>case</code>: If not <code>NULL</code>, a character column will be added indicates the case
of this simulation. If <code>"auto"</code>, the name of the SQL file will be used.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fu'><a href='use_eplus.html'>is_avail_eplus</a></span>(<span class='fl'>8.8</span>)) {
    <span class='no'>idf_name</span> <span class='kw'>&lt;-</span> <span class='st'>"1ZoneUncontrolled.idf"</span>
    <span class='no'>epw_name</span> <span class='kw'>&lt;-</span>  <span class='st'>"USA_CA_San.Francisco.Intl.AP.724940_TMY3.epw"</span>

    <span class='no'>idf_path</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(<span class='fu'><a href='use_eplus.html'>eplus_config</a></span>(<span class='fl'>8.8</span>)$<span class='no'>dir</span>, <span class='st'>"ExampleFiles"</span>, <span class='no'>idf_name</span>)
    <span class='no'>epw_path</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(<span class='fu'><a href='use_eplus.html'>eplus_config</a></span>(<span class='fl'>8.8</span>)$<span class='no'>dir</span>, <span class='st'>"WeatherData"</span>, <span class='no'>epw_name</span>)

    <span class='co'># copy to tempdir and run the model</span>
    <span class='no'>idf</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read_idf.html'>read_idf</a></span>(<span class='no'>idf_path</span>)
    <span class='no'>idf</span>$<span class='fu'>run</span>(<span class='no'>epw_path</span>, <span class='fu'>tempdir</span>())

    <span class='co'># create from local file</span>
    <span class='no'>sql</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='eplus_sql.html'>eplus_sql</a></span>(<span class='fu'>file.path</span>(<span class='fu'>tempdir</span>(), <span class='st'>"1ZoneUncontrolled.sql"</span>))

    <span class='co'># get sql file path</span>
    <span class='no'>sql</span>$<span class='fu'>path</span>()

    <span class='co'># list all tables in the sql file</span>
    <span class='no'>sql</span>$<span class='fu'>list_table</span>()

    <span class='co'># read a specific table</span>
    <span class='no'>sql</span>$<span class='fu'>read_table</span>(<span class='st'>"Zones"</span>)

    <span class='co'># read report data dictionary</span>
    <span class='no'>sql</span>$<span class='fu'>report_data_dict</span>()

    <span class='co'># read report data</span>
    <span class='no'>sql</span>$<span class='fu'>report_data</span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"EnergyTransfer:Building"</span>)

    <span class='co'># read tabular data</span>
    <span class='no'>sql</span>$<span class='fu'>tabular_data</span>()
}</div><div class='output co'>#&gt; <span class='message'>Idd v8.8.0 has not been parsed before. Try to locate `Energy+.idd` in EnergyPlus v8.8.0 installation folder `/usr/local/EnergyPlus-8-8-0`.</span></div><div class='output co'>#&gt; <span class='message'>IDD file found: `/usr/local/EnergyPlus-8-8-0/Energy+.idd`.</span></div><div class='output co'>#&gt; <span class='message'>Start parsing...</span></div><div class='output co'>#&gt; ── Info ────────────────────────────────────────────────────────────────────────
#&gt; Adding object `Output:SQLite` and setting `Option Type` to `SimpleAndTabular`.
#&gt; 
#&gt; ── Info ────────────────────────────────────────────────────────────────────────
#&gt; Replace the existing file located  at /tmp/Rtmp9PDt2A/1ZoneUncontrolled.idf.
#&gt; 
#&gt; ExpandObjects Started.
#&gt; No expanded file generated.
#&gt; ExpandObjects Finished. Time:     0.004
#&gt; EnergyPlus Starting
#&gt; EnergyPlus, Version 8.8.0-7c3bbe4830, YMD=2018.09.04 13:46
#&gt; Processing Data Dictionary
#&gt; Processing Input File
#&gt; Initializing Simulation
#&gt; Reporting Surfaces
#&gt; Beginning Primary Simulation
#&gt; Initializing New Environment Parameters
#&gt; Warming up {1}
#&gt; Warming up {2}
#&gt; Warming up {3}
#&gt; Warming up {4}
#&gt; Warming up {5}
#&gt; Warming up {6}
#&gt; Warming up {7}
#&gt; Warming up {8}
#&gt; Warming up {9}
#&gt; Warming up {10}
#&gt; Warming up {11}
#&gt; Warming up {12}
#&gt; Warming up {13}
#&gt; Warming up {14}
#&gt; Warming up {15}
#&gt; Warming up {16}
#&gt; Warming up {17}
#&gt; Warming up {18}
#&gt; Warming up {19}
#&gt; Warming up {20}
#&gt; Warming up {21}
#&gt; Warming up {22}
#&gt; Starting Simulation at 12/21 for DENVER CENTENNIAL  GOLDEN   N ANN HTG 99% CONDNS DB
#&gt; Initializing New Environment Parameters
#&gt; Warming up {1}
#&gt; Warming up {2}
#&gt; Warming up {3}
#&gt; Warming up {4}
#&gt; Warming up {5}
#&gt; Warming up {6}
#&gt; Warming up {7}
#&gt; Warming up {8}
#&gt; Warming up {9}
#&gt; Warming up {10}
#&gt; Warming up {11}
#&gt; Warming up {12}
#&gt; Warming up {13}
#&gt; Warming up {14}
#&gt; Warming up {15}
#&gt; Warming up {16}
#&gt; Starting Simulation at 07/21 for DENVER CENTENNIAL  GOLDEN   N ANN CLG 1% CONDNS DB=&gt;MWB
#&gt; Initializing New Environment Parameters
#&gt; Warming up {1}
#&gt; Warming up {2}
#&gt; Warming up {3}
#&gt; Warming up {4}
#&gt; Warming up {5}
#&gt; Warming up {6}
#&gt; Warming up {7}
#&gt; Warming up {8}
#&gt; Warming up {9}
#&gt; Warming up {10}
#&gt; Warming up {11}
#&gt; Warming up {12}
#&gt; Warming up {13}
#&gt; Warming up {14}
#&gt; Warming up {15}
#&gt; Warming up {16}
#&gt; Warming up {17}
#&gt; Warming up {18}
#&gt; Starting Simulation at 01/01 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=01/21
#&gt; Continuing Simulation at 01/21 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=02/10
#&gt; Continuing Simulation at 02/10 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=03/02
#&gt; Continuing Simulation at 03/02 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=03/22
#&gt; Continuing Simulation at 03/22 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=04/11
#&gt; Continuing Simulation at 04/11 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=05/01
#&gt; Continuing Simulation at 05/01 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=05/21
#&gt; Continuing Simulation at 05/21 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=06/10
#&gt; Continuing Simulation at 06/10 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=06/30
#&gt; Continuing Simulation at 06/30 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=07/20
#&gt; Continuing Simulation at 07/20 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=08/09
#&gt; Continuing Simulation at 08/09 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=08/29
#&gt; Continuing Simulation at 08/29 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=09/18
#&gt; Continuing Simulation at 09/18 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=10/08
#&gt; Continuing Simulation at 10/08 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=10/28
#&gt; Continuing Simulation at 10/28 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=11/17
#&gt; Continuing Simulation at 11/17 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=12/07
#&gt; Continuing Simulation at 12/07 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Updating Shadowing Calculations, Start Date=12/27
#&gt; Continuing Simulation at 12/27 for San Francisco Intl Ap CA USA TMY3 WMO#=724940
#&gt; Writing tabular output file results using comma format.
#&gt; Writing tabular output file results using tab format.
#&gt; Writing tabular output file results using text format.
#&gt; Writing tabular output file results using HTML format.
#&gt; Writing tabular output file results using XML format.
#&gt; Writing final SQL reports
#&gt;  ReadVarsESO program starting.
#&gt;  ReadVars Run Time=00hr 00min  0.27sec
#&gt;  ReadVarsESO program completed successfully.
#&gt;  ReadVarsESO program starting.
#&gt;  ReadVars Run Time=00hr 00min  0.12sec
#&gt;  ReadVarsESO program completed successfully.
#&gt; EnergyPlus Run Time=00hr 00min  2.84sec
#&gt; </div><div class='output co'>#&gt;       TabularDataIndex        Value                              ReportName
#&gt;    1:                1        82.43 AnnualBuildingUtilityPerformanceSummary
#&gt;    2:                2        82.43 AnnualBuildingUtilityPerformanceSummary
#&gt;    3:                3       261.06 AnnualBuildingUtilityPerformanceSummary
#&gt;    4:                4       261.06 AnnualBuildingUtilityPerformanceSummary
#&gt;    5:                5       354.92 AnnualBuildingUtilityPerformanceSummary
#&gt;   ---                                                                      
#&gt; 2154:             2154         Pass                  Initialization Summary
#&gt; 2155:             2155         Pass                  Initialization Summary
#&gt; 2156:             2156         Pass                  Initialization Summary
#&gt; 2157:             2157         Pass                  Initialization Summary
#&gt; 2158:             2158         Pass                  Initialization Summary
#&gt;       ReportForString                      TableName             RowName
#&gt;    1: Entire Facility         Site and Source Energy   Total Site Energy
#&gt;    2: Entire Facility         Site and Source Energy     Net Site Energy
#&gt;    3: Entire Facility         Site and Source Energy Total Source Energy
#&gt;    4: Entire Facility         Site and Source Energy   Net Source Energy
#&gt;    5: Entire Facility         Site and Source Energy   Total Site Energy
#&gt;   ---                                                                   
#&gt; 2154: Entire Facility Warmup Convergence Information                   2
#&gt; 2155: Entire Facility Warmup Convergence Information                   3
#&gt; 2156: Entire Facility Warmup Convergence Information                   1
#&gt; 2157: Entire Facility Warmup Convergence Information                   2
#&gt; 2158: Entire Facility Warmup Convergence Information                   3
#&gt;                               ColumnName Units
#&gt;    1:                       Total Energy    GJ
#&gt;    2:                       Total Energy    GJ
#&gt;    3:                       Total Energy    GJ
#&gt;    4:                       Total Energy    GJ
#&gt;    5:     Energy Per Total Building Area MJ/m2
#&gt;   ---                                         
#&gt; 2154: Heating Load Pass/Fail Convergence      
#&gt; 2155: Heating Load Pass/Fail Convergence      
#&gt; 2156: Cooling Load Pass/Fail Convergence      
#&gt; 2157: Cooling Load Pass/Fail Convergence      
#&gt; 2158: Cooling Load Pass/Fail Convergence      </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#details">Details</a></li>

      <li><a href="#usage">Usage</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Hongyuan Jia

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Hongyuan Jia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

