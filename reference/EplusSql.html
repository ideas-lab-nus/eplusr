<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Retrieve Simulation Outputs Using EnergyPlus SQLite Output File — EplusSql • eplusr</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Retrieve Simulation Outputs Using EnergyPlus SQLite Output File — EplusSql" />

<meta property="og:description" content="EplusSql class wraps SQL queries that can retrieve simulation outputs using
EnergyPlus SQLite output file." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eplusr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/eplusr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hongyuanjia/eplusr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Retrieve Simulation Outputs Using EnergyPlus SQLite Output File</h1>
    <small class="dont-index">Source: <a href='https://github.com/hongyuanjia/eplusr/blob/master/R/sql.R'><code>R/sql.R</code></a></small>
    <div class="hidden name"><code>EplusSql.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p><code>EplusSql</code> class wraps SQL queries that can retrieve simulation outputs using
EnergyPlus SQLite output file.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>SQLite output is an optional output format for EnergyPlus. It will be
created if there is an object in class <code>Output:SQLite</code>. If the value of
field <code>Option</code> in class <code>Output:SQLite</code> is set to <code>"SimpleAndTabular"</code>,
then database tables related to the tabular reports will be included.</p>
<p>There are more than 30 tables in the SQLite output file which contains all of
the data found in EnergyPlus's tabular output files, standard variable
and meter output files, plus a number of reports that are found in the
eplusout.eio output file. The full description for SQLite outputs is
described in the EnergyPlus <em>"Output Details and Examples"</em>
documentation.</p>
<p><code>EplusSql</code> class makes it possible to directly retrieve simulation results
without creating an <a href='EplusJob.html'>EplusJob</a> object which can only get simulation
outputs after the job was successfully run before.</p>
<p>However, it should be noted that, unlike <a href='EplusJob.html'>EplusJob</a>, there is no checking on
whether the simulation is terminated or completed unsuccessfully or, the
parent Idf has been changed since last simulation. This means that you
may encounter some problems when retrieve data from an unsuccessful
simulation. It is suggested to carefully go through the <code>.err</code> file to
make sure the output data in the SQLite is correct and reliable.</p>
    
    <h2 class="hasAnchor" id="usage"><a class="anchor" href="#usage"></a>Usage</h2>

    <pre>epsql &lt;- eplus_sql(sql)
epsql$path()
epsql$list_table()
epsql$read_table(table)
epsql$report_data(key_value = NULL, name = NULL, year = NULL, tz = "GMT", case = "auto", all = FALSE)
epsql$report_data_dict()
epsql$tabular_data()
epsql$print()
print(epsql)
</pre>
    <p><code>$path()</code> returns the path of EnergyPlus SQLite file.</p>
<p><code>$report_data_dict()</code> returns a data.table which contains all information about
report data. For details on the meaning of each columns, please see
"2.20.2.1 ReportDataDictionary Table" in EnergyPlus "Output Details and
Examples" documentation.</p>
<p><code>$report_data()</code> extracts the report data in a data.table using key values
and variable names.</p>
<p><code>$tabular_data()</code> extracts all tabular data in a data.table.</p>
<p><code>$print()</code> shows the core information of this EplusSql object, including the
path of the EnergyPlus SQLite file, last modified time of the SQLite file
and the path of the IDF file with the same name in the same folder.</p>
<p><strong>Arguments</strong>:</p><ul>
<li><p><code>epsql</code>: An <code>EplusSQL</code> object.</p></li>
<li><p><code>sql</code>: A path to an local EnergyPlus SQLite output file.</p></li>
<li><p><code>key_value</code>: A character vector to identify key name of the data. If
<code>NULL</code>, all keys of that variable will be returned. Default: <code>NULL</code>.</p></li>
<li><p><code>name</code>: A character vector to specify the actual data name. If <code>NULL</code>, all
variables will be returned. Default: <code>NULL</code>.</p></li>
<li><p><code>year</code>: The year of the date and time in column <code>DateTime</code>. If <code>NULL</code>, it
will be the current year. Default: <code>NULL</code></p></li>
<li><p><code>tz</code>: Time zone of date and time in column <code>DateTime</code>. Default: <code>"GMT"</code>.</p></li>
<li><p><code>case</code>: If not <code>NULL</code>, a character column will be added indicates the case
of this simulation. If <code>"auto"</code>, the name of the SQL file will be used.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='kw'>if</span> (<span class='fu'><a href='use_eplus.html'>is_avail_eplus</a></span>(<span class='fl'>8.8</span>)) {
    <span class='no'>idf_name</span> <span class='kw'>&lt;-</span> <span class='st'>"1ZoneUncontrolled.idf"</span>
    <span class='no'>epw_name</span> <span class='kw'>&lt;-</span>  <span class='st'>"USA_CA_San.Francisco.Intl.AP.724940_TMY3.epw"</span>

    <span class='no'>idf_path</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='use_eplus.html'>eplus_config</a></span>(<span class='fl'>8.8</span>)$<span class='no'>dir</span>, <span class='st'>"ExampleFiles"</span>, <span class='no'>idf_name</span>)
    <span class='no'>epw_path</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='use_eplus.html'>eplus_config</a></span>(<span class='fl'>8.8</span>)$<span class='no'>dir</span>, <span class='st'>"WeatherData"</span>, <span class='no'>epw_name</span>)

    <span class='co'># copy to tempdir and run the model</span>
    <span class='no'>idf</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read_idf.html'>read_idf</a></span>(<span class='no'>idf_path</span>)
    <span class='no'>idf</span>$<span class='fu'>run</span>(<span class='no'>epw_path</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>())

    <span class='co'># create from local file</span>
    <span class='no'>sql</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='eplus_sql.html'>eplus_sql</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>(), <span class='st'>"1ZoneUncontrolled.sql"</span>))

    <span class='co'># get sql file path</span>
    <span class='no'>sql</span>$<span class='fu'>path</span>()

    <span class='co'># list all tables in the sql file</span>
    <span class='no'>sql</span>$<span class='fu'>list_table</span>()

    <span class='co'># read a specific table</span>
    <span class='no'>sql</span>$<span class='fu'>read_table</span>(<span class='st'>"Zones"</span>)

    <span class='co'># read report data dictionary</span>
    <span class='no'>sql</span>$<span class='fu'>report_data_dict</span>()

    <span class='co'># read report data</span>
    <span class='no'>sql</span>$<span class='fu'>report_data</span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"EnergyTransfer:Building"</span>)

    <span class='co'># read tabular data</span>
    <span class='no'>sql</span>$<span class='fu'>tabular_data</span>()
}
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#details">Details</a></li>

      <li><a href="#usage">Usage</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Hongyuan Jia</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Hongyuan Jia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

